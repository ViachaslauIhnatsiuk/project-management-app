<mat-toolbar role="heading" class="header">
  <button *ngIf="isAuth$ | async" mat-icon-button (click)="headerService.toggleSidebar()">
    <mat-icon>menu</mat-icon>
  </button>
  <img class="header__logo" src="../../../../assets/icons/logo.svg" alt="app logo" />
  <form [formGroup]="searchForm" class="header__search" *ngIf="isAuth$ | async">
    <mat-form-field class="header__search-field" floatLabel="never" appearance="fill">
      <input
        type="text"
        matInput
        placeholder="{{ 'header.searchPlaceholder' | translate }}"
        [matAutocomplete]="auto"
        formControlName="searchInput"
        (input)="onInput($event)"
        autocomplete="off"
      />
      <mat-icon matPrefix class="header__search-icon">search</mat-icon>
      <mat-autocomplete #auto="matAutocomplete" (optionSelected)="openFoundBoard($event)">
        <mat-option
          class="search__option"
          *ngFor="let item of searchedItems$ | async"
          [value]="item"
        >
          <span class="search__option-title">Title: {{ item.title }}</span>
          <span class="search__option-users" *ngIf="item.users.length"
            >Users: {{ users$ | async | getUserNameById: item.users }}</span
          >
          <span class="search__option-description">description: {{ item.description }}</span>
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
  </form>
  <div class="header__theme-wrapper" *ngIf="isAuth$ | async">
    <mat-icon color="primary">brightness_7</mat-icon>
    <mat-slide-toggle
      [(ngModel)]="headerService.sliderIsChecked"
      (change)="headerService.switchTheme($event)"
    ></mat-slide-toggle>
    <mat-icon color="primary">brightness_2</mat-icon>
  </div>
  <div class="header__btns-wrapper">
    <div class="header__auth-wrapper" *ngIf="(isAuth$ | async) === false">
      <button mat-raised-button color="primary" routerLink="auth/logIn">
        {{ 'header.button.signin' | translate }}
      </button>
      <button mat-raised-button color="accent" routerLink="auth/signUp">
        {{ 'header.button.signup' | translate }}
      </button>
    </div>
    <div class="header__auth-wrapper" *ngIf="isAuth$ | async">
      <button (click)="authService.signOut()" mat-raised-button color="primary">
        {{ 'header.button.signout' | translate }}
      </button>
    </div>
    <mat-button-toggle-group
      #group="matButtonToggleGroup"
      [value]="currentLanguage"
      (change)="switchLanguage(group.value)"
    >
      <mat-button-toggle value="En">En</mat-button-toggle>
      <mat-button-toggle value="Ru">Ru</mat-button-toggle>
    </mat-button-toggle-group>
  </div>
</mat-toolbar>
<mat-progress-bar *ngIf="isLoading$ | async" mode="indeterminate"></mat-progress-bar>
